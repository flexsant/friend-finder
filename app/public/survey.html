<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Hello, world!</title>
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <div class="jumbotron text-center">
            <h1 class="display-5">Friend Finder
            </h1>
            <h4 class="display-5">Please complete the following survey to find your best match!
            </h4>

            <a class="btn btn-primary btn-lg" href="./tables" role="View Table">Survey</a><br>

            <input type="text" id="name" name="Q1">Name(required)<br>
            <form action="/action_page.php">
                <input type="" id="photo" name="Q1"> Photo<br>

                <br>
                <p>Do you like long walks on the beach?</p>
                <input type="radio" class="userPick" name="q1" value="1"> Strongly Agree<br>
                <input type="radio" class="userPick" name="q1" value="2"> Agree<br>
                <input type="radio" class="userPick" name="q1" value="3"> Mutually Agree<br>
                <input type="radio" class="userPick" name="q1" value="4"> Disagree<br>
                <input type="radio" class="userPick" name="q1"
                value="5"> Strongly Disagree<br>

                <br>
                <p>Does sleeping in appeal to you?</p>
                <input type="radio" class="userPick" name="q2" value="1"> Strongly Agree<br>
                <input type="radio" class="userPick" name="q2" value="2"> Agree<br>
                <input type="radio" class="userPick" name="q2" value="3"> Mutually Agree<br>
                <input type="radio" class="userPick" name="q2" value="4"> Disagree<br>
                <input type="radio" class="userPick" name="q2" value="5"> Strongly Disagree<br>

                <br>
                <p>Do you consclasser yourself a neat freak?</p>
                <input type="radio" class="userPick" name="q3" value="1"> Strongly Agree<br>
                <input type="radio" class="userPick" name="q3" value="2"> Agree<br>
                <input type="radio" class="userPick" name="q3" value="3"> Mutually Agree<br>
                <input type="radio" class="userPick" name="q3" value="4"> Disagree<br>
                <input type="radio" class="userPick" name="q3" value="5"> Strongly Disagree<br>

                <br>
                <p>Are you well traveled?</p>
                <input type="radio" class="userPick" name="q4" value="1"> Strongly Agree<br>
                <input type="radio" class="userPick" name="q4" value="2"> Agree<br>
                <input type="radio" class="userPick" name="q4" value="3"> Mutually Agree<br>
                <input type="radio" class="userPick" name="q4" value="4"> Disagree<br>
                <input type="radio" class="userPick" name="q4" value="5"> Strongly Disagree<br>

                <br>
                <p>Are you woke to current events?</p>
                <input type="radio" class="userPick" name="q5" value="1"> Strongly Agree<br>
                <input type="radio" class="userPick" name="q5" value="2"> Agree<br>
                <input type="radio" class="userPick" name="q5" value="3"> Mutually Agree<br>
                <input type="radio" class="userPick" name="q5" value="4"> Disagree<br>
                <input type="radio" class="userPick" name="q5" value="5"> Strongly Disagree<br>

                <br>
                <p>Do you choose organic products as a consumer?</p>
                <input type="radio" class="userPick" name="q6" value="1"> Strongly Agree<br>
                <input type="radio" class="userPick" name="q6" value="2"> Agree<br>
                <input type="radio" class="userPick" name="q6" value="3"> Mutually Agree<br>
                <input type="radio" class="userPick" name="q6" value="4"> Disagree<br>
                <input type="radio" class="userPick" name="q6" value="5"> Strongly Disagree<br>

                <br>
                <p>Are you an outdoors enthusiast?</p>
                <input type="radio" class="userPick" name="q7" value="1"> Strongly Agree<br>
                <input type="radio" class="userPick" name="q7" value="2"> Agree<br>
                <input type="radio" class="userPick" name="q7" value="3"> Mutually Agree<br>
                <input type="radio" class="userPick" name="q7" value="4"> Disagree<br>
                <input type="radio" class="userPick" name="q7" value="5"> Strongly Disagree<br>

                <br>
                <p>Does your diet reflect the current state of our food system?</p>
                <input type="radio" class="userPick" name="q8" value="1"> Strongly Agree<br>
                <input type="radio" class="userPick" name="q8" value="2"> Agree<br>
                <input type="radio" class="userPick" name="q8" value="3"> Mutually Agree<br>
                <input type="radio" class="userPick" name="q8" value="4"> Disagree<br>
                <input type="radio" class="userPick" name="q8"
                value="5"> Strongly Disagree<br>

                <br>
                <p>Do you take public transit to off-set your carbon footprint?</p>
                <input type="radio" class="userPick" name="q9" value="1"> Strongly Agree<br>
                <input type="radio" class="userPick" name="q9" value="2"> Agree<br>
                <input type="radio" class="userPick" name="q9" value="3"> Mutually Agree<br>
                <input type="radio" class="userPick" name="q9" value="4"> Disagree<br>
                <input type="radio" class="userPick" name="q9"
                value="5"> Strongly Disagree<br>

                <br>
                <p>Are you looking for a partner who shares similar attributes as you?</p>
                <input type="radio" class="userPick" name="q10"
                value="1"> Strongly Agree<br>
                <input type="radio" class="userPick" name="q10" value="2"> Agree<br>
                <input type="radio" class="userPick" name="q10" value="3"> Mutually Agree<br>
                <input type="radio" class="userPick" name="q10" value="4"> Disagree<br>
                <input type="radio" class="userPick" name="q10" value="5"> Strongly Disagree<br>

                <input type="submit" id="submit" value="Submit">
            </form>

        </div>
    </div>
    <script>
     //on click for form submit

     $("#submit").click(function (event) {
         event.preventDefault()
         var name = $("#name").val().trim();
         var photo = $("#photo").val().trim();
         var userAnswers = [
             $("input[name='q1']:checked").val().trim(),
             $("input[name='q2']:checked").val().trim(),
             $("input[name='q3']:checked").val().trim(),
             $("input[name='q4']:checked").val().trim(),
             $("input[name='q5']:checked").val().trim(),
             $("input[name='q6']:checked").val().trim(),
             $("input[name='q7']:checked").val().trim(),
             $("input[name='q8']:checked").val().trim(),
             $("input[name='q9']:checked").val().trim(),
             $("input[name='q10']:checked").val().trim(),
         ]
         console.log(userAnswers)

         if (userAnswers.length === 10) {
             var newFriend = {
                 name: name,
                 photo: photo,
                 scores: userAnswers
             }
             console.log("newFriend: ", newFriend);

             $.post("/api/friends", newFriend, function (match) {
                 alert(match.name);
             })
         }
     });
     </script> 
    </body> 
    </html>